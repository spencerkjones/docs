<!doctype html>
<html lang="zh" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-legacy/FAQ/Parity">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">Parity | Unraid Docs</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://docs.unraid.net/zh/img/un-mark-gradient.svg"><meta data-rh="true" name="twitter:image" content="https://docs.unraid.net/zh/img/un-mark-gradient.svg"><meta data-rh="true" property="og:url" content="https://docs.unraid.net/zh/legacy/FAQ/Parity"><meta data-rh="true" name="docusaurus_locale" content="zh"><meta data-rh="true" name="docsearch:language" content="zh"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Parity | Unraid Docs"><meta data-rh="true" name="description" content="Parity is used by unRAID to protect against data loss. If a drive in the"><meta data-rh="true" property="og:description" content="Parity is used by unRAID to protect against data loss. If a drive in the"><link data-rh="true" rel="icon" href="/zh/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://docs.unraid.net/zh/legacy/FAQ/Parity"><link data-rh="true" rel="alternate" href="https://docs.unraid.net/legacy/FAQ/Parity" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.unraid.net/zh/legacy/FAQ/Parity" hreflang="zh"><link data-rh="true" rel="alternate" href="https://docs.unraid.net/legacy/FAQ/Parity" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/zh/blog/rss.xml" title="Unraid Docs RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/zh/blog/atom.xml" title="Unraid Docs Atom Feed"><link rel="stylesheet" href="/zh/assets/css/styles.bf18739c.css">
<link rel="preload" href="/zh/assets/js/runtime~main.924bcd66.js" as="script">
<link rel="preload" href="/zh/assets/js/main.302f50ad.js" as="script">
</head>
<body class="navigation-with-keyboard" data-theme="light">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();null!==e?t(e):window.matchMedia("(prefers-color-scheme: dark)").matches?t("dark"):window.matchMedia("(prefers-color-scheme: light)").matches?t("light"):t("dark")}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus">
<div role="region" aria-label="è·³åˆ°ä¸»è¦å†…å®¹"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">è·³åˆ°ä¸»è¦å†…å®¹</a></div><div class="announcementBar_mb4j" role="banner"><div class="announcementBarPlaceholder_vyr4"></div><div class="content_knG7 announcementBarContent_xLdY">Welcome to the new Unraid Documentation! ğŸš§ Currently Under Construction ğŸš§ <a href="https://wiki.unraid.net" target="_blank">Legacy Wiki</a> </div><button type="button" aria-label="å…³é—­" class="clean-btn close closeButton_CVFx announcementBarClose_gvF7"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav aria-label="ä¸»å¯¼èˆª" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="åˆ‡æ¢å¯¼èˆªæ " aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/zh/"><div class="navbar__logo"><img src="/zh/img/un-mark-gradient.svg" alt="My Site Logo" class="themedImage_ToTc themedImage--light_HNdA" style="width:30px"><img src="/zh/img/un-mark-gradient.svg" alt="My Site Logo" class="themedImage_ToTc themedImage--dark_i4oU" style="width:30px"></div><b class="navbar__title text--truncate">Unraid Docs</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/zh/">Documentation</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">More</a><ul class="dropdown__menu"><li><a href="https://unraid.net" target="_blank" rel="noopener noreferrer" class="dropdown__link">Unraid Home<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://forums.unraid.net" target="_blank" rel="noopener noreferrer" class="dropdown__link">Forums<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>ä¸­æ–‡</a><ul class="dropdown__menu"><li><a href="/legacy/FAQ/Parity" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="en">English</a></li><li><a href="/zh/legacy/FAQ/Parity" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="zh">ä¸­æ–‡</a></li></ul></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="åˆ‡æ¢æµ…è‰²/æš—é»‘æ¨¡å¼ï¼ˆå½“å‰ä¸ºæš—é»‘æ¨¡å¼ï¼‰" aria-label="åˆ‡æ¢æµ…è‰²/æš—é»‘æ¨¡å¼ï¼ˆå½“å‰ä¸ºæš—é»‘æ¨¡å¼ï¼‰" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><div class="dsla-search-wrapper"><div class="dsla-search-field" data-tags="default,docs-default-current"></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="å›åˆ°é¡¶éƒ¨" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="æ–‡æ¡£ä¾§è¾¹æ " class="menu thin-scrollbar menu_SIkG menuWithAnnouncementBar_GW3s"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/zh/">Documentation Home</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/zh/category/unraid-os">Unraid OS</a><button aria-label="æ‰“å¼€/æ”¶èµ·ä¾§è¾¹æ èœå•ã€ŒUnraid OSã€" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/zh/category/unraid-connect">Unraid Connect</a><button aria-label="æ‰“å¼€/æ”¶èµ·ä¾§è¾¹æ èœå•ã€ŒUnraid Connectã€" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/zh/category/legacy-documentation">Legacy Documentation</a><button aria-label="æ‰“å¼€/æ”¶èµ·ä¾§è¾¹æ èœå•ã€ŒLegacy Documentationã€" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/zh/legacy/Articles/Expanding_Windows_VM_vdisk_partitions">Articles</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/zh/legacy/FAQ/Building_an_unRAID_Server">FAQ</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/zh/legacy/FAQ/Building_an_unRAID_Server">Building_an_unRAID_Server</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/zh/legacy/FAQ/Cache_disk">Cache_disk</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/zh/legacy/FAQ/Check_Disk_Filesystems">Checking and fixing file systems</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/zh/legacy/FAQ/Check_Harddrive_Speed">Check_Harddrive_Speed</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/zh/legacy/FAQ/Configuration_Tutorial">Configuration_Tutorial</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/zh/legacy/FAQ/Console">Console</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/zh/legacy/FAQ/Parity">Parity</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/zh/legacy/FAQ/Replacing_Multiple_Data_Drives_with_a_Single_Larger_Drive">Replacing_Multiple_Data_Drives_with_a_Single_Larger_Drive</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/zh/legacy/FAQ/Replacing_a_Data_Drive">Replacing_a_Data_Drive</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/zh/legacy/FAQ/Setting_up_CPU_and_board_temperature_sensing">Setting_up_CPU_and_board_temperature_sensing</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/zh/legacy/FAQ/Setup_Sleep_(S3)_and_Wake_on_Lan_(WOL)">Setup_Sleep_(S3)_and_Wake_on_Lan_(WOL)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/zh/legacy/FAQ/Shrink_array">Shrink_array</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/zh/legacy/FAQ/Terminal_Access">Terminal Access</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/zh/legacy/FAQ/The_parity_swap_procedure">The_parity_swap_procedure</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/zh/legacy/FAQ/Transferring_Files_Within_the_unRAID_Server">Transferring_Files_Within_the_unRAID_Server</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/zh/legacy/FAQ/Transferring_Files_from_a_Network_Share_to_unRAID">Transferring_Files_from_a_Network_Share_to_unRAID</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/zh/legacy/FAQ/USB_Flash_Drive_Preparation">USB_Flash_Drive_Preparation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/zh/legacy/FAQ/Understanding_SMART_Reports">Understanding_SMART_Reports</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/zh/legacy/Manual/Additional_Settings">Manual</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/zh/category/contribute">Contribute</a><button aria-label="æ‰“å¼€/æ”¶èµ·ä¾§è¾¹æ èœå•ã€ŒContributeã€" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="é¡µé¢è·¯å¾„"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="ä¸»é¡µé¢" class="breadcrumbs__link" href="/zh/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/zh/category/legacy-documentation"><span itemprop="name">Legacy Documentation</span></a><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">FAQ</span><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Parity</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">æœ¬é¡µæ€»è§ˆ</button></div><div class="theme-doc-markdown markdown"><header><h1>Parity</h1></header><p>Parity is used by unRAID to protect against data loss. If a drive in the
array fails, the data on the other drives can be combined with the
parity data to reconstruct the missing data.</p><p>Why have parity? Because there are only two types of hard disks in the
world:</p><ul><li>Disks that have already failed.</li><li>Disks that have not yet failed<!-- -->.<!-- -->.. but just need a bit more time
until they do.</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="how_parity_works">How parity works<a href="#how_parity_works" class="hash-link" aria-label="How parity worksçš„ç›´æ¥é“¾æ¥" title="How parity worksçš„ç›´æ¥é“¾æ¥">â€‹</a></h2><p>In general, a parity process is designed to detect a single bit change
across a given set of bits, by setting the value of an added bit such
that a summation across that set of bits is forced to a known value. The
added bit is known as a <strong>parity bit</strong>.</p><p>In unRAID, the parity bits are stored on a <strong>parity drive</strong> independent
of the data drives. This parity bit works across the set of bits in the
same relative bit position on each drive. So the 57th bit of the parity
drive is the parity bit for the 57th bit of all of the data drives. A
parity check of the 57th bit position therefore adds up all of the 57th
bits of every drive including the parity drive, and checking to see
total is an EVEN number. If the value returned is not EVEN, then the
parity bit is toggled so that the parity check WILL return an EVEN
number.</p><p>Why an EVEN number? unRAID uses \&#x27;even parity\&#x27;, which simply means that
the summation process (using a mathematical operation called &#x27;exclusive
OR&#x27; or &#x27;XOR&#x27;) across that set of bits must return a value that is an
EVEN number.</p><ul><li><a href="http://www.pcguide.com/ref/hdd/perf/raid/concepts/genParity-c.html" target="_blank" rel="noopener noreferrer">PCGuide discussion of
XOR</a></li><li><a href="http://en.wikipedia.org/wiki/Exclusive_or" target="_blank" rel="noopener noreferrer">Wikipedia on XOR</a></li></ul><p>Digital data is stored as a 1 or a 0. So, for example:</p><ul><li>If you have 4 drives with bit values 1,1,1,1 the parity will be 0
(1+1+1+1+0=even).</li><li>If the bit values are 1,0,0,0 the parity will be 1 (1+0+0+0+1=even).</li></ul><p>When a drive is added to a parity-protected unRAID array, it is first
cleared by writing zeroes to all bits of all sectors of that drive. A
zero value will not impact parity. Once the new drive is full of zeros,
unRAID can silently slip it into the array without needing to rebuild
parity. Several disks can be added simultaneously in this way.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="reconstructing_data">Reconstructing data<a href="#reconstructing_data" class="hash-link" aria-label="Reconstructing dataçš„ç›´æ¥é“¾æ¥" title="Reconstructing dataçš„ç›´æ¥é“¾æ¥">â€‹</a></h2><p>There are only two situations that the parity data is used by unRAID to
reconstruct data:</p><ul><li>when a disk is being reconstructed; and</li><li>when a bad sector is detected.</li></ul><p>At these times, all of the disks (including parity) are read to
reconstruct the data to be written to the target disk. As the sum of the
bits is always even, unRAID can reconstruct any ONE missing piece of
data (the parity or a data disk), as long as the other pieces are
correct.</p><p>In the two examples above, say the 2nd drive fails.</p><ul><li>1+x+1+1+0=even, x must equal 1</li><li>1+x+0+0+1=even, x must equal 0</li></ul><p>As parity is so important for data reconstruction, ensure that parity is
correct by running parity checks periodically.</p><p>If you physically remove a single disk from your array you will still be
able to read and write to it. It is &#x27;simulated&#x27; by reading all the other
data disks and parity. In the same way, the parity disk is updated as
needed when writing to the simulated disk. If you now install a
replacement disk, it can be completely rebuilt from the re-constructed
contents based on parity and all the other data drives.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="checking_parity">Checking parity<a href="#checking_parity" class="hash-link" aria-label="Checking parityçš„ç›´æ¥é“¾æ¥" title="Checking parityçš„ç›´æ¥é“¾æ¥">â€‹</a></h2><p>In a <strong>parity sync</strong>, the system reads all the data disks and writes the
computed parity to the parity disk.</p><p>In a <strong>parity check</strong>, the system reads all the data disks and the
parity disk, comparing computed parity with stored parity. This
operation has a flag:</p><p><code>Â CORRECTÂ -Â ifÂ aÂ parityÂ mismatchÂ occurs,Â writeÂ parityÂ diskÂ withÂ computedÂ parityÂ andÂ reportÂ inÂ syslog</code>\
<code>Â NOCORRECTÂ -Â justÂ reportÂ inÂ syslog</code></p><p>Only the first 100 parity check errors are reported. (The messages in
the system log are generated for each sector address where a parity
mis-match occurs. So if you tried a parity-check on an array that
doesn\&#x27;t have valid parity, the system log would quickly become massive;
hence the limit to 100 messages.)</p><p>These parity mis-matches are called &#x27;sync errors&#x27; or &#x27;parity sync
errors&#x27;. They are a count of how many block addresses were found where
computed parity did not &#x27;synchronize&#x27; with (i.e., match) stored parity.
(A \&#x27;block\&#x27; is 4096 bytes. This is also the linux PAGE size - the
fundamental unit of I/O.)</p><p>Parity disk being <strong>valid</strong> means that there is a parity disk present,
and sometime in the past a parity sync completed without error (or being
cancelled). Once parity sync has completed, the parity disk will always
be &#x27;valid&#x27; (and have a green dot). &#x27;Valid&#x27; in this sense means that it
can be used to reconstruct a failed data disk.</p><p>(Actually, &#x27;valid&#x27; is a status that applies to all array disks, both
data disks and the parity disk. If all array disks are valid except for
one of them, it means that the one that\&#x27;s not valid can be
reconstructed using the data from all the other ones.)</p><p>When a parity check/nocorrect produces errors, why is the Parity disk
still marked &#x27;valid&#x27;? This is because if the system marked the parity
disk &#x27;invalid&#x27; because of a handful of parity errors, and then another
disk failed, that other disk could not be reconstructed (because now
there would be 2 invalid disks in the array). So the entire parity disk
isn&#x27;t marked invalid because of detected parity errors. Of course, a
user can always deem parity invalid by un-assigning it.</p><p>Once parity has been calculated there should only be 2 ways that there
should be parity check errors:</p><ul><li>a non-clean shutdown, ie, sudden power loss or system reset. What
happens here is that there could be pending writes to the parity
and/or data disks that don\&#x27;t get completed, leaving the
corresponding stripe with inconsistent parity.</li><li>an undetected hardware fault (such as silent memory corruption).</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="parity_disk">Parity disk<a href="#parity_disk" class="hash-link" aria-label="Parity diskçš„ç›´æ¥é“¾æ¥" title="Parity diskçš„ç›´æ¥é“¾æ¥">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="size">Size<a href="#size" class="hash-link" aria-label="Sizeçš„ç›´æ¥é“¾æ¥" title="Sizeçš„ç›´æ¥é“¾æ¥">â€‹</a></h3><p>The size of the parity disk must be equal to or larger than the largest
data drive.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="performance">Performance<a href="#performance" class="hash-link" aria-label="Performanceçš„ç›´æ¥é“¾æ¥" title="Performanceçš„ç›´æ¥é“¾æ¥">â€‹</a></h3><p>Using parity to protect your data inevitably has an impact on
performance when you are writing data to the array. Any time a data disk
is written to, the parity disk needs to be updated as well. Each write
to a parity-protected unRAID data disk results in 4 disk operations: a
read and write for parity, and a read and write for data. The platter of
each disk has to make a full revolution after reading to position the
disk head back over the sector being written.</p><p>Writing to the unRAID array is also limited by the slowest (rotational
speed) drive involved. If only the parity drive is a 7200 RPM drive,
then you are still limited by the speed of the data drive. You\&#x27;ll see
no improvement in write speed unless there are multiple slower data
drives being written to simultaneously, and one faster 7200 RPM parity
drive trying to keep up with both of them.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="dual_parity">Dual parity<a href="#dual_parity" class="hash-link" aria-label="Dual parityçš„ç›´æ¥é“¾æ¥" title="Dual parityçš„ç›´æ¥é“¾æ¥">â€‹</a></h2><p>For large arrays, &#x27;dual parity&#x27; -- or, the facility to have a second
parity disc is not simply a mirror of the first. This permits two
simultaneous drive failures without losing data.</p><p>In a P + Q redundancy system (as in a RAID-6 system), there would be two
redundancy disks: &#x27;P&#x27;, which is the ordinary XOR parity, and &#x27;Q&#x27;, which
is a Reed-Solomon code. This allows unRAID to recover from any 2 disk
errors, with minimal impact on performance.(Requires Clarification that
this is actually used)</p><p>Further discussion:
<a href="http://lime-technology.com/forum/index.php?topic=2634.msg21695#msg21695" target="_blank" rel="noopener noreferrer">1</a></p><p><a href="Category:_Key_concepts" target="_blank" rel="noopener noreferrer" title="wikilink">Category: Key concepts</a></p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/unraid/docs/tree/main/docs/legacy/FAQ/Parity.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>ç¼–è¾‘æ­¤é¡µ</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="æ–‡ä»¶é€‰é¡¹å¡"><a class="pagination-nav__link pagination-nav__link--prev" href="/zh/legacy/FAQ/Console"><div class="pagination-nav__sublabel">ä¸Šä¸€é¡µ</div><div class="pagination-nav__label">Console</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/zh/legacy/FAQ/Replacing_Multiple_Data_Drives_with_a_Single_Larger_Drive"><div class="pagination-nav__sublabel">ä¸‹ä¸€é¡µ</div><div class="pagination-nav__label">Replacing_Multiple_Data_Drives_with_a_Single_Larger_Drive</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#how_parity_works" class="table-of-contents__link toc-highlight">How parity works</a></li><li><a href="#reconstructing_data" class="table-of-contents__link toc-highlight">Reconstructing data</a></li><li><a href="#checking_parity" class="table-of-contents__link toc-highlight">Checking parity</a></li><li><a href="#parity_disk" class="table-of-contents__link toc-highlight">Parity disk</a><ul><li><a href="#size" class="table-of-contents__link toc-highlight">Size</a></li><li><a href="#performance" class="table-of-contents__link toc-highlight">Performance</a></li></ul></li><li><a href="#dual_parity" class="table-of-contents__link toc-highlight">Dual parity</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Documentation</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/zh/">Home</a></li><li class="footer__item"><a href="https://github.com/unraid/docs" target="_blank" rel="noopener noreferrer" class="footer__link-item">Contribute on Github</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://forums.unraid.net" target="_blank" rel="noopener noreferrer" class="footer__link-item">Forums<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://discordapp.com/invite/unraid" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://unraid.net" target="_blank" rel="noopener noreferrer" class="footer__link-item">Unraid Home</a></li><li class="footer__item"><a href="https://newsletter.unraid.net" target="_blank" rel="noopener noreferrer" class="footer__link-item">Newsletter</a></li><li class="footer__item"><a href="https://unraid.net/blog" target="_blank" rel="noopener noreferrer" class="footer__link-item">Blog<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2023 Unraid Inc.</div></div></div></footer></div>
<script src="/zh/assets/js/runtime~main.924bcd66.js"></script>
<script src="/zh/assets/js/main.302f50ad.js"></script>
</body>
</html>