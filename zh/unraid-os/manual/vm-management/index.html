<!doctype html>
<html lang="zh" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-unraid-os/manual/vm-management">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">Managing VMs | Unraid Docs</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://docs.unraid.net/zh/img/meta-unraid.png"><meta data-rh="true" name="twitter:image" content="https://docs.unraid.net/zh/img/meta-unraid.png"><meta data-rh="true" property="og:url" content="https://docs.unraid.net/zh/unraid-os/manual/vm-management"><meta data-rh="true" name="docusaurus_locale" content="zh"><meta data-rh="true" name="docsearch:language" content="zh"><meta data-rh="true" name="theme-color" content="#242526" media="(prefers-color-scheme: dark)"><meta data-rh="true" name="theme-color" content="#ffffff" media="(prefers-color-scheme: light)"><meta data-rh="true" name="color-scheme" content="dark light"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Managing VMs | Unraid Docs"><meta data-rh="true" name="description" content="Overview"><meta data-rh="true" property="og:description" content="Overview"><link data-rh="true" rel="icon" href="/zh/img/favicon.svg"><link data-rh="true" rel="canonical" href="https://docs.unraid.net/zh/unraid-os/manual/vm-management"><link data-rh="true" rel="alternate" href="https://docs.unraid.net/unraid-os/manual/vm-management" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.unraid.net/zh/unraid-os/manual/vm-management" hreflang="zh"><link data-rh="true" rel="alternate" href="https://docs.unraid.net/es/unraid-os/manual/vm-management" hreflang="es"><link data-rh="true" rel="alternate" href="https://docs.unraid.net/fr/unraid-os/manual/vm-management" hreflang="fr"><link data-rh="true" rel="alternate" href="https://docs.unraid.net/de/unraid-os/manual/vm-management" hreflang="de"><link data-rh="true" rel="alternate" href="https://docs.unraid.net/unraid-os/manual/vm-management" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/zh/blog/rss.xml" title="Unraid Docs RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/zh/blog/atom.xml" title="Unraid Docs Atom Feed">

<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-CZENQ1ZPEH"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-CZENQ1ZPEH",{anonymize_ip:!0})</script><link rel="stylesheet" href="/zh/assets/css/styles.44bfac28.css">
<link rel="preload" href="/zh/assets/js/runtime~main.ecbce4ff.js" as="script">
<link rel="preload" href="/zh/assets/js/main.4eae28b4.js" as="script">
</head>
<body class="navigation-with-keyboard" data-theme="light">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();null!==e?t(e):window.matchMedia("(prefers-color-scheme: dark)").matches?t("dark"):window.matchMedia("(prefers-color-scheme: light)").matches?t("light"):t("dark")}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus">
<div role="region" aria-label="Ë∑≥Âà∞‰∏ªË¶ÅÂÜÖÂÆπ"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Ë∑≥Âà∞‰∏ªË¶ÅÂÜÖÂÆπ</a></div><div class="announcementBar_mb4j" style="background-color:#ff8c2f;color:#fff" role="banner"><div class="announcementBarPlaceholder_vyr4"></div><div class="content_knG7 announcementBarContent_xLdY">Welcome to the new Unraid Documentation! üöß Currently Under Construction üöß <a href="https://wiki.unraid.net" target="_blank">Legacy Wiki</a> </div><button type="button" aria-label="ÂÖ≥Èó≠" class="clean-btn close closeButton_CVFx announcementBarClose_gvF7"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav aria-label="‰∏ªÂØºËà™" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="ÂàáÊç¢ÂØºËà™Ê†è" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/zh/"><div class="navbar__logo"><img src="/zh/img/un-mark-gradient.svg" alt="My Site Logo" class="themedImage_ToTc themedImage--light_HNdA" style="width:30px"><img src="/zh/img/un-mark-gradient.svg" alt="My Site Logo" class="themedImage_ToTc themedImage--dark_i4oU" style="width:30px"></div><b class="navbar__title text--truncate">Unraid Docs</b></a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">More</a><ul class="dropdown__menu"><li><a href="https://unraid.net" target="_blank" rel="noopener noreferrer" class="dropdown__link">Unraid Home<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://forums.unraid.net" target="_blank" rel="noopener noreferrer" class="dropdown__link">Forums<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://github.com/unraid/docs" target="_blank" rel="noopener noreferrer" class="dropdown__link">Docs Github<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>‰∏≠Êñá</a><ul class="dropdown__menu"><li><a href="/unraid-os/manual/vm-management" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="en">English</a></li><li><a href="/zh/unraid-os/manual/vm-management" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="zh">‰∏≠Êñá</a></li><li><a href="/es/unraid-os/manual/vm-management" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="es">Espa√±ol</a></li><li><a href="/fr/unraid-os/manual/vm-management" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="fr">Fran√ßais</a></li><li><a href="/de/unraid-os/manual/vm-management" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="de">Deutsch</a></li></ul></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="ÂàáÊç¢ÊµÖËâ≤/ÊöóÈªëÊ®°ÂºèÔºàÂΩìÂâç‰∏∫ÊöóÈªëÊ®°ÂºèÔºâ" aria-label="ÂàáÊç¢ÊµÖËâ≤/ÊöóÈªëÊ®°ÂºèÔºàÂΩìÂâç‰∏∫ÊöóÈªëÊ®°ÂºèÔºâ" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><div class="dsla-search-wrapper"><div class="dsla-search-field" data-tags="default,docs-default-current"></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="ÂõûÂà∞È°∂ÈÉ®" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="ÊñáÊ°£‰æßËæπÊ†è" class="menu thin-scrollbar menu_SIkG menuWithAnnouncementBar_GW3s"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/zh/">Home</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/zh/category/unraid-os">Unraid OS</a><button aria-label="ÊâìÂºÄ/Êî∂Ëµ∑‰æßËæπÊ†èËèúÂçï„ÄåUnraid OS„Äç" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/zh/category/release-notes">Release Notes</a><button aria-label="ÊâìÂºÄ/Êî∂Ëµ∑‰æßËæπÊ†èËèúÂçï„ÄåRelease Notes„Äç" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/zh/category/faq">FAQ</a><button aria-label="ÊâìÂºÄ/Êî∂Ëµ∑‰æßËæπÊ†èËèúÂçï„ÄåFAQ„Äç" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/zh/category/guides">Guides</a><button aria-label="ÊâìÂºÄ/Êî∂Ëµ∑‰æßËæπÊ†èËèúÂçï„ÄåGuides„Äç" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/zh/category/manual">Manual</a><button aria-label="ÊâìÂºÄ/Êî∂Ëµ∑‰æßËæπÊ†èËèúÂçï„ÄåManual„Äç" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/zh/unraid-os/manual/what-is-unraid">Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/zh/unraid-os/manual/getting-started">Getting Started</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/zh/unraid-os/manual/storage-management">Storage Management</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/zh/unraid-os/manual/shares">Shares</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/zh/unraid-os/manual/docker-management">Docker Management</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/zh/unraid-os/manual/vm-support">VM Support</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/zh/unraid-os/manual/vm-management">Managing VMs</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/zh/unraid-os/manual/applications">Community Applications</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/zh/unraid-os/manual/multi-language">Multi-Language Support</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/zh/unraid-os/manual/troubleshooting">Troubleshooting</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/zh/unraid-os/manual/additional-settings">Additional Settings</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/zh/unraid-os/manual/changing-the-flash-device">Changing the Flash Device</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/zh/unraid-os/manual/security">Security</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/zh/unraid-os/manual/tools">Tools</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/zh/unraid-os/manual/upgrade-instructions">Upgrading Unraid</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/zh/unraid-os/manual/users">Users</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/zh/category/zfs">ZFS</a><button aria-label="ÊâìÂºÄ/Êî∂Ëµ∑‰æßËæπÊ†èËèúÂçï„ÄåZFS„Äç" type="button" class="clean-btn menu__caret"></button></div></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/zh/category/unraid-connect">Unraid Connect</a><button aria-label="ÊâìÂºÄ/Êî∂Ëµ∑‰æßËæπÊ†èËèúÂçï„ÄåUnraid Connect„Äç" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/zh/category/legacy-documentation">Legacy Documentation</a><button aria-label="ÊâìÂºÄ/Êî∂Ëµ∑‰æßËæπÊ†èËèúÂçï„ÄåLegacy Documentation„Äç" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/zh/category/contribute">Contribute</a><button aria-label="ÊâìÂºÄ/Êî∂Ëµ∑‰æßËæπÊ†èËèúÂçï„ÄåContribute„Äç" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="È°µÈù¢Ë∑ØÂæÑ"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="‰∏ªÈ°µÈù¢" class="breadcrumbs__link" href="/zh/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/zh/category/unraid-os"><span itemprop="name">Unraid OS</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/zh/category/manual"><span itemprop="name">Manual</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Managing VMs</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">Êú¨È°µÊÄªËßà</button></div><div class="theme-doc-markdown markdown"><h1>Managing VMs</h1><h2 class="anchor anchorWithStickyNavbar_LWe7" id="overview">Overview<a href="#overview" class="hash-link" aria-label="OverviewÁöÑÁõ¥Êé•ÈìæÊé•" title="OverviewÁöÑÁõ¥Êé•ÈìæÊé•">‚Äã</a></h2><p>While Docker Containers are the preferred mechanism for running
Linux-based applications such as media servers, backup software, and
file sharing solutions, virtual machines add support for non-Linux
workloads and the ability to utilize devices that the host cannot (think
graphics pass through, USB pass through/assignment, etc). <em>Localized
Virtualization</em> is our method of supporting VMs where all resources
assigned to the guest are local to the host.</p><p>For information on what operating systems have been tested for use with
Unraid Server OS, please see the <a href="/zh/unraid-os/manual/vm-support">VM Support</a> wiki page.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="prerequisites">Prerequisites<a href="#prerequisites" class="hash-link" aria-label="PrerequisitesÁöÑÁõ¥Êé•ÈìæÊé•" title="PrerequisitesÁöÑÁõ¥Êé•ÈìæÊé•">‚Äã</a></h2><p>To create virtual machines on Unraid, you will need HVM hardware support
(Intel VT-x or AMD-V). To assign host-based PCI devices to those VMs,
your hardware must also support IOMMU (Intel VT-d or AMD-Vi). Lastly,
all virtualization features must be enabled in your motherboard BIOS
(typically found in the CPU or System Agent sections). NOTE: Not all
hardware that claims support for this has been proven to work
effectively, so see the &quot;tested hardware&quot; section for known working
component combinations. Virtual machines can also drive a need for much
more RAM/CPU cores depending on the type. Here are some general
recommendations on how much RAM should be allocated <strong>per virtual
machine</strong>:</p><ul><li>Virtual servers (Windows, Arch, etc.): 256MB - 1GB, 1-2 CPU cores</li><li>Virtual desktops (Windows, Ubuntu, etc.): 512MB - 8GB, 2-4 CPU cores</li><li>Hybrid VMs (GPU assignment, gaming, etc.): 1GB - 12GB, 2-6 CPU cores</li></ul><p>Keep in mind that memory usage for virtual machines only occurs when
they are running, so it&#x27;s just important to think about these
requirements in terms of peak concurrent usage on your system.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="determining-hvmiommu-hardware-support">Determining HVM/IOMMU Hardware Support<a href="#determining-hvmiommu-hardware-support" class="hash-link" aria-label="Determining HVM/IOMMU Hardware SupportÁöÑÁõ¥Êé•ÈìæÊé•" title="Determining HVM/IOMMU Hardware SupportÁöÑÁõ¥Êé•ÈìæÊé•">‚Äã</a></h3><p>To determine if hardware has support for HVM or IOMMU, there are two
primary methods available:</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="online-research">Online Research<a href="#online-research" class="hash-link" aria-label="Online ResearchÁöÑÁõ¥Êé•ÈìæÊé•" title="Online ResearchÁöÑÁõ¥Êé•ÈìæÊé•">‚Äã</a></h4><ul><li>To check if your Intel processor has support for VT-x or VT-d, visit
<a href="http://ark.intel.com/Search/Advanced" target="_blank" rel="noopener noreferrer">http://ark.intel.com/Search/Advanced</a>. ¬†On the left hand filter
panel, you can filter by processors that have support for VT-x,
VT-d, or both.</li><li>For guidance with AMD processors, there is not an equivalent to the
ARK site, but <a href="http://en.wikipedia.org/wiki/List_of_IOMMU-supporting_hardware#AMD_based" target="_blank" rel="noopener noreferrer">this Wikipedia
article</a>
may assist you.</li><li>Motherboard support for virtualization is usually available as part
of the product documentation or user manual.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="through-the-unraid-webgui">Through the Unraid webGui<a href="#through-the-unraid-webgui" class="hash-link" aria-label="Through the Unraid webGuiÁöÑÁõ¥Êé•ÈìæÊé•" title="Through the Unraid webGuiÁöÑÁõ¥Êé•ÈìæÊé•">‚Äã</a></h4><ul><li>When accessing your Unraid system through the web interface, you can
determine if your system is virtualization compatible by clicking
the <strong>Info</strong> button on the right side of the top menu bar.<ul><li><strong>HVM Support</strong> refers to Intel VT-x or AMD-V<ul><li><em>Not Available</em> means that your hardware is not HVM capable.</li><li><em>Disabled</em> means that your hardware is HVM capable, but the
settings in your motherboard BIOS are not enabled.</li><li><em>Enabled</em> means that your hardware is both HVM capable and
the appropriate settings in your motherboard BIOS are also
enabled.</li></ul></li><li><strong>IOMMU Support</strong> refers to Intel VT-d or AMD-Vi<ul><li><em>Not Available</em> only displays if your system is not HVM
capable.</li><li><em>Disabled</em> means that either your hardware is not capable of
IOMMU or the appropriate settings in your motherboard BIOS
are not enabled.</li><li><em>Enabled</em> means that your hardware is both IOMMU capable and
the appropriate settings in your motherboard BIOS are also
enabled.</li></ul></li></ul></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="assigning-graphics-devices">Assigning Graphics Devices<a href="#assigning-graphics-devices" class="hash-link" aria-label="Assigning Graphics DevicesÁöÑÁõ¥Êé•ÈìæÊé•" title="Assigning Graphics DevicesÁöÑÁõ¥Êé•ÈìæÊé•">‚Äã</a></h3><p>Unlike other PCI devices, graphics devices can be more difficult to pass
through to a VM for control. With Unraid 6, we&#x27;ve implemented a number
of tweaks to maximize success with graphics pass through for our users.
Here are the currently known limitations associated with GPU pass
through on Unraid 6:</p><ul><li>NVIDIA GTX-series GPUs should work fine as of the 600 series or
newer, but not all models have been tested.</li><li>AMD cards have had some issues depending on the make or model and
which guest operating system is attached.</li><li>Some devices may work better for pass through to specific guest
operating systems.</li><li>With OVMF-based virtual machines, if your GPU has UEFI support, it
should work fine, but some users still report card-specific issues.</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="system-preparation">System Preparation<a href="#system-preparation" class="hash-link" aria-label="System PreparationÁöÑÁõ¥Êé•ÈìæÊé•" title="System PreparationÁöÑÁõ¥Êé•ÈìæÊé•">‚Äã</a></h2><p>Before you can get started with creating virtual machines, there are a
few preparatory tasks that must be completed.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="adjust-bios-settings">Adjust BIOS Settings<a href="#adjust-bios-settings" class="hash-link" aria-label="Adjust BIOS SettingsÁöÑÁõ¥Êé•ÈìæÊé•" title="Adjust BIOS SettingsÁöÑÁõ¥Êé•ÈìæÊé•">‚Äã</a></h3><p>In order to utilize all the virtualization features of Unraid 6, you
must ensure your BIOS is configured properly for hardware-assisted
virtualization as well as IO memory mapping (HVM / IOMMU support). In
your BIOS settings, look for anything marked with <strong>Virtualization</strong>,
<strong>Intel VT-x</strong>, <strong>Intel VT-d</strong>, <strong>AMD-V</strong>, or <strong>AMD-Vi</strong> and set it to
<strong>Enabled</strong>.</p><p><img loading="lazy" src="/zh/assets/images/Bios-virtualization1-8c032a63c7faa4306a38ab048f689477.png" width="606" height="382" class="img_ev3q">{width=&quot;150&quot;}
<img loading="lazy" src="/zh/assets/images/Bios-virtualization2-3bd48a4a433dc6241b2716f10a877461.jpg" width="600" height="365" class="img_ev3q">{width=&quot;150&quot;}
<img loading="lazy" src="/zh/assets/images/Bios-virtualization3-f24cc6d14dd9aff84916592c300a0e98.JPG" width="800" height="600" class="img_ev3q">{width=&quot;150&quot;}
<img loading="lazy" src="/zh/assets/images/Bios-virtualization4-72a6a8a03a546e90dc8e007574b430c2.png" width="1024" height="768" class="img_ev3q">{width=&quot;150&quot;}</p><p><em>examples of where virtualization settings can be found from various
motherboard BIOS screens.</em></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="configure-a-network-bridge">Configure a Network Bridge<a href="#configure-a-network-bridge" class="hash-link" aria-label="Configure a Network BridgeÁöÑÁõ¥Êé•ÈìæÊé•" title="Configure a Network BridgeÁöÑÁõ¥Êé•ÈìæÊé•">‚Äã</a></h3><p>There are two methods by which your virtual machines can get access to
host-based networking: through a private NAT bridge managed by libvirt
or through a public bridge managed by Unraid directly. The private
bridge (virbr0) is automatically configured when libvirt starts. The
public bridge (br0) can be created through the <em>Network Settings</em> page
on the Unraid webGui.</p><p>The private bridge generates an internal DHCP server/address pool to
create IPs for VMs automatically, but the VMs will be on a subnet that
cannot be accessed by other devices or even other services on Unraid.
This type of bridge is ideal if you want your VM to be completely
isolated from all other network services except internet access and the
host&#x27;s network file sharing protocols. VM management can be performed
through a VNC session provided by the browser.</p><p>The public bridge provides VMs with an IP address from your router, but
internally bridges communications between VMs and each other, as well as
the host. This type of bridge is ideal if you want your VMs to act just
like another device on your network, where you manage its network access
at the LAN-router instead of inside the VM. We persist MAC address
settings for the virtual interfaces you create, ensuring the VMs should
get the same IP address each time they connect, as long as your
router-managed DHCP pool doesn&#x27;t run out of addresses. So if you want
to connect to your VM from another PC, laptop, tablet, or another type
of device, you should use the public bridge. Enable public bridge in
<em>Network settings <!-- -->&gt;<!-- --> Enable bridging: Yes</em></p><p>Whichever bridge you prefer can be defined as the <em>Default Network
Bridge</em> on the <strong>VM Settings</strong> page. You may have to enable the
<strong><em>Advanced</em></strong> view using the toggle at the top right before this
setting is visible.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="user-shares-for-virtualization">User Shares for Virtualization<a href="#user-shares-for-virtualization" class="hash-link" aria-label="User Shares for VirtualizationÁöÑÁõ¥Êé•ÈìæÊé•" title="User Shares for VirtualizationÁöÑÁõ¥Êé•ÈìæÊé•">‚Äã</a></h3><p>By default, Unraid will create two user shares for use with
virtualization on Unraid. One share to store your installation media
files (ISOs) and another to store your virtual machines themselves
(domains). If you don&#x27;t already have a share you use for backups, you
might consider adding one as well to use for backing up your virtual
machines.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="recommendations-for-share-configuration">Recommendations for Share Configuration<a href="#recommendations-for-share-configuration" class="hash-link" aria-label="Recommendations for Share ConfigurationÁöÑÁõ¥Êé•ÈìæÊé•" title="Recommendations for Share ConfigurationÁöÑÁõ¥Êé•ÈìæÊé•">‚Äã</a></h4><ul><li>Virtual machines will perform best when their primary vDisk is
stored on a cache-only share.</li><li>While SSDs are not required for virtual machines to function,
performance gains are substantial with their use.</li><li>For your ISO library share (containing your installation media),
cache usage is optional.</li></ul><p><em>IMPORTANT: Do NOT store your active virtual machines on a share where
the</em>Use Cache<em>setting is set to <strong>Yes</strong>. Doing so will cause your VMs to
be moved to the array when the mover is invoked.</em></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="setup-virtualization-preferences">Setup Virtualization Preferences<a href="#setup-virtualization-preferences" class="hash-link" aria-label="Setup Virtualization PreferencesÁöÑÁõ¥Êé•ÈìæÊé•" title="Setup Virtualization PreferencesÁöÑÁõ¥Êé•ÈìæÊé•">‚Äã</a></h3><p>Before you can get started creating virtual machines, we need to perform
a few configuration steps:</p><ul><li><p>Use your web browser to navigate to the <em>VM Manager Settings</em> page
(<em>Settings</em> -<!-- -->&gt;<!-- --> <em>VM Manager</em>)</p></li><li><p><em>For Windows VMs</em>, you will need to download virtual drivers for
storage, network, and memory.</p><ul><li>Download the latest &#x27;stable&#x27; VirtIO Windows drivers ISO found
here:
<a href="https://fedoraproject.org/wiki/Windows_Virtio_Drivers#Direct_download" target="_blank" rel="noopener noreferrer">https://fedoraproject.org/wiki/Windows_Virtio_Drivers#Direct_download</a></li><li>Copy the ISO file for the drivers to the ISO Library Share that
you created earlier</li><li>Use the file picker for <strong>VirtIO Windows Drivers ISO</strong> to select
the ISO file you copied</li><li>You can override the default driver ISO on a per-VM basis (under
<strong>Advanced View</strong>).</li></ul></li><li><p>Select <strong>virbr0</strong> (default) for a <em>private network bridge</em> or select
a <em>public network bridge</em> that you created on the <em>Network Settings</em>
page.</p><ul><li>You can override the default network bridge on a per-VM basis
(under <strong>Advanced View</strong>).</li></ul></li><li><p>Toggle <strong>PCIe ACS Override</strong> to <strong>On</strong> if you wish to assign
multiple PCI devices to disparate virtual machines</p><ul><li>The override breaks apart IOMMU groups so that individual
devices can be assigned to different virtual machines</li><li>Without this setting enabled, you may not be able to pass
through devices to multiple virtual machines simultaneously</li><li>WARNING: This setting is experimental! Take caution when using.
<a href="http://vfio.blogspot.com/2014/08/iommu-groups-inside-and-out.html" target="_blank" rel="noopener noreferrer">1</a></li></ul></li><li><p>Click <strong>Apply</strong> when done to apply your settings</p></li><li><p>Troubleshoot: If it says stopped after clicking apply, check
<strong>/boot/config/domains.cfg</strong>, you may need to set fields: (See also
<a href="https://forums.unraid.net/topic/70874-restoring-virtual-machines/?tab=comments#comment-650785" target="_blank" rel="noopener noreferrer">Forum help by
Squid</a>)</p><ul><li><code>MEDIADIR=&quot;/mnt/user/system/&quot;</code></li><li><code>VIRTIOISO=&quot;/mnt/user/system&quot;</code> (the share with virtio image)</li></ul></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="creating-your-own-virtual-machines">Creating Your Own Virtual Machines<a href="#creating-your-own-virtual-machines" class="hash-link" aria-label="Creating Your Own Virtual MachinesÁöÑÁõ¥Êé•ÈìæÊé•" title="Creating Your Own Virtual MachinesÁöÑÁõ¥Êé•ÈìæÊé•">‚Äã</a></h2><p>With the preparation steps completed, you can create your first VM by
clicking <strong>Add VM</strong> from the <em>Virtual Machines</em> page.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="basic-vm-creation">Basic VM Creation<a href="#basic-vm-creation" class="hash-link" aria-label="Basic VM CreationÁöÑÁõ¥Êé•ÈìæÊé•" title="Basic VM CreationÁöÑÁõ¥Êé•ÈìæÊé•">‚Äã</a></h3><p>The webGui will by default present the minimum number of fields required
in order for you to create a VM.</p><ul><li>Set the <strong>Template</strong> type to <strong>Custom</strong></li><li>Give the VM a <strong>Name</strong> and a <strong>Description</strong></li><li>Toggle the <strong>Autostart</strong> setting if you want the VM to start with
the array automatically</li><li>Select the <strong>Operating System</strong> you wish to use, which will also
adjust the icon used for the VM</li><li>Select which <strong>CPUs</strong> you wish to assign the VM<ul><li>You can select up to as many physical CPUs that are present on
your host</li></ul></li><li>Specify how much <strong>Initial Memory</strong> you wish to assign the VM<ul><li>See the documentation for the OS you are installing to determine
how much RAM to allocate.</li></ul></li><li>Select an <strong>OS Install ISO</strong> for your installation media</li><li>Specify the vDisks you wish to create (or select an existing vDisk)<ul><li>The <strong>Primary vDisk</strong> is used to store your VM&#x27;s operating
system</li><li><strong>Additional vDisks</strong> can be added by clicking
<img loading="lazy" src="data:image/png;base64,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" width="36" height="40" class="img_ev3q">{width=&quot;15&quot;}</li></ul></li><li>Specify a <strong>Graphics Card</strong> to use to interact with the VM<ul><li>If you are <em>NOT</em> assigning a physical graphics card, specify
<strong>VNC</strong></li><li>If you <em>ARE</em> assigning a physical graphics card, select it from
the list</li><li>VNC can only be specified as the primary graphics display or it
can&#x27;t be assigned at all</li><li>A password can be optionally specified for the VNC connection</li><li>Not all graphics cards will work as a secondary display</li><li>If you assign a physical graphics device, be sure to assign a
USB keyboard and mouse as well</li><li>Additional graphics devices can be assigned by clicking
<img loading="lazy" src="data:image/png;base64,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" width="36" height="40" class="img_ev3q">{width=&quot;15&quot;}</li></ul></li><li>Assign a <strong>Sound Card</strong> if you&#x27;re assigning a graphics card to get
audio support in your VM<ul><li>Most GPUs have their own built-in sound card as a function of
the graphics card for HDMI audio</li><li>Additional sound cards can be assigned by clicking
<img loading="lazy" src="data:image/png;base64,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" width="36" height="40" class="img_ev3q">{width=&quot;15&quot;}</li></ul></li><li><strong>USB Devices</strong> can be assigned to the VM that are plugged into the
host<ul><li>USB hot-plugging is not currently supported, so devices must be
attached before the VM is started in order for USB pass through
to function</li><li>Some USB devices may not work properly when passed through to a
guest (though most do work fine)</li><li>The Unraid USB flash device is not displayed here, to prevent
accidental assignment</li></ul></li><li>Click <strong>Create VM</strong> to create your virtual disks (if necessary),
which will start automatically unless you unchecked the <strong>Start VM
after creation</strong> checkbox.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="advanced-options">Advanced Options<a href="#advanced-options" class="hash-link" aria-label="Advanced OptionsÁöÑÁõ¥Êé•ÈìæÊé•" title="Advanced OptionsÁöÑÁõ¥Êé•ÈìæÊé•">‚Äã</a></h3><p>If you wish to toggle other advanced settings for the VM, you can toggle
from <strong>Basic</strong> to <strong>Advanced View</strong> (switch located on the <em>Template
Settings</em> section bar from the <em>Add VM</em> page).</p><ul><li>You can adjust the <strong>CPU Mode</strong> setting<ul><li><strong>Host Passthrough</strong> will expose the guest to all the
capabilities of the host CPU (this can significantly improve
performance)</li><li><strong>Emulated</strong> will use the QEMU emulated CPU and <em>not</em> expose the
guest to all of the host processor&#x27;s features</li></ul></li><li>Specifying a <strong>Max Memory</strong> value will enable memory ballooning,
allowing KVM to shrink/expand memory assignments dynamically as
needed.<ul><li>This feature does not apply to VMs where a physical PCI device
has been assigned (GPU, sound, etc.)</li></ul></li><li>The <strong>Machine</strong> type presented to your VM can be toggled between
QEMU&#x27;s <strong>i440fx</strong> or <strong>Q35</strong> chipsets<ul><li><em>For Windows-based VMs</em>, i440fx is the default setting and
should only be changed if you are having difficulty passing
through a PCI-based graphics card (this may prompt Windows to
reactivate)</li><li><em>For Linux-based VMs</em>, Q35 is the default setting and should not
be changed if passing through a GPU</li></ul></li><li>The <strong>BIOS</strong> can only be adjusted when adding a new VM (existing VMs
cannot modify this setting).<ul><li>SeaBIOS is a traditional VGA BIOS for creating most virtual
machines</li><li>OVMF utilizes a UEFI BIOS interface, eliminating the use of
traditional VGA</li><li>OVMF requires that the VM&#x27;s operating system supports UEFI
(Windows 8 or newer, most modern Linux distros) and if you wish
to assign a physical graphics device, it too must support UEFI</li></ul></li><li>If you specify Windows as the guest operating system, you can toggle
the exposure of <strong>Hyper-V</strong> extensions to the VM</li><li>You can choose to override the default <strong>VirtIO Drivers ISO</strong> should
you so desire</li><li>You can toggle the <strong>vDisk Type</strong> between RAW and QCOW2 (RAW is
recommended for best performance)</li><li><em>With Linux-based VMs</em>, you can add multiple <strong>VirtFS</strong> mappings to
your guest<ul><li>For more information on VirtFS and the 9p file system, visit
here: <a href="http://wiki.qemu.org/Documentation/9psetup" target="_blank" rel="noopener noreferrer">http://wiki.qemu.org/Documentation/9psetup</a></li></ul></li><li>If you desire, you can modify the <strong>Network MAC</strong> address for the
virtual network interface of the VM as well as specify an alternate
<strong>Network Bridge</strong>.<ul><li>You can click the blue refresh symbol to auto-generate a new MAC
address for the virtual network interface.</li><li>Additional virtual network interfaces can be assigned by
clicking <img loading="lazy" src="data:image/png;base64,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" width="36" height="40" class="img_ev3q">{width=&quot;15&quot;}</li></ul></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="expanding-a-vdisk">Expanding a vdisk<a href="#expanding-a-vdisk" class="hash-link" aria-label="Expanding a vdiskÁöÑÁõ¥Êé•ÈìæÊé•" title="Expanding a vdiskÁöÑÁõ¥Êé•ÈìæÊé•">‚Äã</a></h2><p>In the event that you need to increase the size of your virtual disk
device, you can do so with the following procedure:</p><ul><li>Navigate to the VMs tab in the webGui.</li><li>Make sure your VM is stopped.</li><li>Click on the name of your VM to expand the view to show you the
various disk devices attached to the VM.</li><li>Click on the value in the capacity field for the vdisk to make it
editable.</li><li>Edit a value of how large you want the vdisk to be and press enter
(e.g. for 100 gigabytes, enter 100G)</li><li>You will now see the new capacity take affect.</li></ul><p>After doing this, you can start your VM and the new storage will be
available, though you will need to either create a new partition out of
that space or extend an existing partition to make use of it. For
instructions on how to expand your Windows partition, please see <a href="/zh/legacy/Articles/expanding-windows-vm-vdisk-partitions">this
article</a>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="troubleshooting-stuck-at-uefi-shell">Troubleshooting Stuck at UEFI Shell<a href="#troubleshooting-stuck-at-uefi-shell" class="hash-link" aria-label="Troubleshooting Stuck at UEFI ShellÁöÑÁõ¥Êé•ÈìæÊé•" title="Troubleshooting Stuck at UEFI ShellÁöÑÁõ¥Êé•ÈìæÊé•">‚Äã</a></h2><p>In the event you are stuck at the UEFI shell after booting your VM, you
can enter a few commands to manually trigger the boot sequence:</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">fs0:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">cd</span><span class="token plain">¬†efi/boot</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">bootx64.efi</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Â§çÂà∂‰ª£Á†ÅÂà∞Ââ™Ë¥¥Êùø" title="Â§çÂà∂" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This will manually trigger your VM to boot.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="assigning-graphics-devices-to-virtual-machines-gpu-pass-through">Assigning Graphics Devices to Virtual Machines (GPU Pass Through)<a href="#assigning-graphics-devices-to-virtual-machines-gpu-pass-through" class="hash-link" aria-label="Assigning Graphics Devices to Virtual Machines (GPU Pass Through)ÁöÑÁõ¥Êé•ÈìæÊé•" title="Assigning Graphics Devices to Virtual Machines (GPU Pass Through)ÁöÑÁõ¥Êé•ÈìæÊé•">‚Äã</a></h2><p>The ability to assign a GPU to a virtual machine for direct I/O control
comes with some additional provisions:</p><ol><li>Not all motherboard/GPU combinations will work for GPU assignment.</li><li>Integrated graphics devices (on-board GPUs) are not assignable to
virtual machines at this time.</li><li>Additional community-tested configurations can be found in <a href="https://docs.google.com/spreadsheets/d/1LnGpTrXalwGVNy0PWJDURhyxa3sgqkGXmvNCIvIMenk/edit#gid=0" target="_blank" rel="noopener noreferrer">this
spreadsheet</a>.</li><li>Lime Technology provides a list of validated and tested hardware
combinations within the wiki.</li><li>You can also discuss hardware selection in the <a href="http://lime-technology.com/forum/" target="_blank" rel="noopener noreferrer">Lime Technology
community forums</a>.</li></ol><p>Additional information regarding virtual function I/O (VFIO) and GPU
pass through can be found in <a href="http://vfio.blogspot.com/2014/08/vfiovga-faq.html" target="_blank" rel="noopener noreferrer">the following F.A.Q from Alex
Williamson</a>, the
project&#x27;s maintainer.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="warning-passing-through-a-gpu-to-a-seabios-based-vm-will-disable-console-vga-access">Warning: Passing through a GPU to a SeaBIOS-based VM will disable console VGA access<a href="#warning-passing-through-a-gpu-to-a-seabios-based-vm-will-disable-console-vga-access" class="hash-link" aria-label="Warning: Passing through a GPU to a SeaBIOS-based VM will disable console VGA accessÁöÑÁõ¥Êé•ÈìæÊé•" title="Warning: Passing through a GPU to a SeaBIOS-based VM will disable console VGA accessÁöÑÁõ¥Êé•ÈìæÊé•">‚Äã</a></h3><p>If you rely upon a locally-attached monitor and keyboard to interact
with the Unraid terminal directly, you will lose this ability once you
create a SeaBIOS VM with a GPU assigned. This is due to a bug with VGA
arbitration and cannot be solved. This does NOT affect your ability to
access the console using a telnet or SSH session, but local console
access directly will appear to be frozen (blinking cursor, but no
visible response to keyboard input). It does not matter if you are using
on-board graphics for the console compared to a discrete GPU for the
pass through to a VM or not. With OVMF, however, VGA isn&#x27;t utilized,
therefore arbitration isn&#x27;t needed and therefore your console graphics
will remain intact. Note that not all GPUs support OVMF as OVMF requires
UEFI support on your GPU.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="help-failed-to-set-iommu-for-container-operation-not-permitted">Help! Failed to set iommu for container: Operation not permitted<a href="#help-failed-to-set-iommu-for-container-operation-not-permitted" class="hash-link" aria-label="Help! Failed to set iommu for container: Operation not permittedÁöÑÁõ¥Êé•ÈìæÊé•" title="Help! Failed to set iommu for container: Operation not permittedÁöÑÁõ¥Êé•ÈìæÊé•">‚Äã</a></h3><p>If you are getting the above message when trying to assign a graphics
device to a VM, it is most likely that your device is in an IOMMU group
along with another active/in-use device on your system. Please see <a href="http://vfio.blogspot.com/2014/08/iommu-groups-inside-and-out.html" target="_blank" rel="noopener noreferrer">this
article</a>
written by Alex Williamson on IOMMU groups if you wish to better
understand this issue and how it impacts you. Under <em>Settings</em> -<!-- -->&gt;<!-- --> <em>VM
Manager</em> you will find an option to toggle for PCIe ACS Override, which
will forcibly break out each device into its own IOMMU group (following
a reboot of the system). This setting is experimental, so use with
caution.</p><p>Another possibility here is that your system doesn&#x27;t support interrupt
remapping, which is critical for VFIO and GPU pass through. There is a
workaround for this, but you will not be protected against MSI-based
interrupt injection attacks by guests (<a href="http://invisiblethingslab.com/resources/2011/Software%20Attacks%20on%20Intel%20VT-d.pdf" target="_blank" rel="noopener noreferrer">more info about MSI injection
attacks through
VT-d</a>).
If you completely trust your VM guests and the drivers inside them,
enabling this workaround should resolve the issue. The alternative is to
purchase hardware that offers interrupt remapping support. To enable the
workaround, you will need to modify your syslinux.cfg file, adding the
bolded bit below:</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">label¬†Unraid¬†OS</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">menu¬†default</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">kernel¬†/bzimage</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">append vfio_iommu_type1.allow_unsafe_interrupts</span><span class="token operator">=</span><span class="token number">1</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">initrd</span><span class="token operator">=</span><span class="token plain">/bzroot</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Â§çÂà∂‰ª£Á†ÅÂà∞Ââ™Ë¥¥Êùø" title="Â§çÂà∂" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="help-i-can-start-my-vm-with-a-gpu-assigned-but-all-i-get-is-a-black-screen-on-my-monitor">Help! I can start my VM with a GPU assigned but all I get is a black screen on my monitor!<a href="#help-i-can-start-my-vm-with-a-gpu-assigned-but-all-i-get-is-a-black-screen-on-my-monitor" class="hash-link" aria-label="Help! I can start my VM with a GPU assigned but all I get is a black screen on my monitor!ÁöÑÁõ¥Êé•ÈìæÊé•" title="Help! I can start my VM with a GPU assigned but all I get is a black screen on my monitor!ÁöÑÁõ¥Êé•ÈìæÊé•">‚Äã</a></h3><p>If you aren&#x27;t receiving an error message, but the display doesn&#x27;t
&quot;light up&quot; when your VM is started, it means that while the device is
being assigned properly, you may have an issue with your motherboard or
GPU preventing proper VGA arbitration from occurring. There are several
things you can do to try to fix this:</p><ul><li>Boot into your motherboard BIOS and make sure your primary graphics
is NOT set to a card you wish to pass through (the best option is to
set it to integrated graphics, aka iGPU; make sure it&#x27;s not PCI or
PCIe).</li><li>Ensure your motherboard BIOS <em>and</em> video card BIOS are up to date.</li><li>Try adjusting the <strong>BIOS</strong> under <strong>Advanced View</strong> when adding a new
VM from <em>SeaBIOS</em> to <em>OVMF</em> (existing VMs cannot have this setting
changed once created).</li><li>Try adjusting the <strong>Machine Type</strong> from <em>i440fx</em> to <em>Q35</em> under
<strong>Advanced View</strong> when editing or adding a VM.</li><li>As a last resort, you can attempt to manually provide the ROM file
for your video card by editing the XML for your VM (see below
procedure).</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="edit-xml-for-vm-to-supply-gpu-rom-manually">Edit XML for VM to supply GPU ROM manually<a href="#edit-xml-for-vm-to-supply-gpu-rom-manually" class="hash-link" aria-label="Edit XML for VM to supply GPU ROM manuallyÁöÑÁõ¥Êé•ÈìæÊé•" title="Edit XML for VM to supply GPU ROM manuallyÁöÑÁõ¥Êé•ÈìæÊé•">‚Äã</a></h4><ul><li>From another PC, navigate to this webpage:
<a href="http://www.techpowerup.com/vgabios/" target="_blank" rel="noopener noreferrer">http://www.techpowerup.com/vgabios/</a></li><li>Use the <strong>Refine Search Parameters</strong> section to locate your GPU from
the database.</li><li>Download the appropriate ROM file for your video card and store the
file on any user share in Unraid.</li><li>With your VM stopped, click the icon for your VM, then select <strong>Edit
XML</strong> from the context menu.</li><li>Scroll to the bottom of the XML and locate this section (the <code>&lt;address&gt;</code>
parts may look different for you than from the example below):</li></ul><div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">hostdev</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">mode</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">subsystem</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">type</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">pci</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">managed</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">yes</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">driver</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">name</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">vfio</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">source</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">address</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">domain</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">0x0000</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">bus</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">0x02</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">slot</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">0x00</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">function</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">0x0</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">source</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">address</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">type</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">pci</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">domain</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">0x0000</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">bus</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">0x00</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">slot</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">0x05</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">function</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">0x0</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">hostdev</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Â§çÂà∂‰ª£Á†ÅÂà∞Ââ™Ë¥¥Êùø" title="Â§çÂà∂" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>After the <code>&lt;/source&gt;</code> tag, add the following code:</li></ul><div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">rom</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">file</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">/mnt/user/sharename/foldername/rom.bin</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">/&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Â§çÂà∂‰ª£Á†ÅÂà∞Ââ™Ë¥¥Êùø" title="Â§çÂà∂" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>Change the path after /mnt/user/ to the actual user share /
sub-folder path to your romfile.</li></ul><p>Once done editing the XML, click <strong>Update</strong> and try starting your VM
again to see if the GPU assignment works properly.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="physical-to-virtual-machine-conversion">Physical to Virtual Machine Conversion<a href="#physical-to-virtual-machine-conversion" class="hash-link" aria-label="Physical to Virtual Machine ConversionÁöÑÁõ¥Êé•ÈìæÊé•" title="Physical to Virtual Machine ConversionÁöÑÁõ¥Êé•ÈìæÊé•">‚Äã</a></h2><p>If you have an existing physical PC or server that you wish to convert
to a virtual machine for use on Unraid 6, the process is fairly simple.
Steps 1-3 apply for almost any modern Linux-based guest. Steps 4-6 apply
for Windows-based guests.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="prerequisites-1">Prerequisites<a href="#prerequisites-1" class="hash-link" aria-label="PrerequisitesÁöÑÁõ¥Êé•ÈìæÊé•" title="PrerequisitesÁöÑÁõ¥Êé•ÈìæÊé•">‚Äã</a></h3><ul><li>Your system must meet the hardware requirements and complete these
preparation steps before utilizing virtual machines on Unraid Server
OS 6.</li><li>You must have enough disk space available on a single storage device
in your array (total free space in the cache pool) that is equal to
or greater in size than the physical disk you wish to convert.</li><li>It is highly encouraged to make a complete backup of your most
important files before attempting a conversion.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="step-1-identify-the-disk-to-be-converted-using-the-unraid-webgui">Step 1: Identify the disk to be converted using the Unraid webGui<a href="#step-1-identify-the-disk-to-be-converted-using-the-unraid-webgui" class="hash-link" aria-label="Step 1: Identify the disk to be converted using the Unraid webGuiÁöÑÁõ¥Êé•ÈìæÊé•" title="Step 1: Identify the disk to be converted using the Unraid webGuiÁöÑÁõ¥Êé•ÈìæÊé•">‚Äã</a></h3><ul><li>With the array stopped, attach the physical disk you wish to convert
to your server (SATA and power)</li><li>Login to your Unraid webGui (<code>http://tower</code> or <code>http://tower.local</code>)</li><li>Click the <strong>Main</strong> tab.</li><li>If the array hasn&#x27;t been started yet, start it by clicking
<strong>Start</strong>.</li><li>Locate your disk device from the <strong>Unassigned Devices</strong> section on
the Main tab.</li><li>Under the identification column, notate the disk id by <strong>letter
handle</strong> (e.g. sdb, sdc, sdd, sde, ...)</li><li>Also make note of the <strong>size</strong>, as you will need at least this much
space free on an available array device or the cache (pool) to
create your new virtual disk.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="step-2-add-a-new-virtual-machine-from-the-vms-tab">Step 2: Add a new Virtual Machine from the VMs tab<a href="#step-2-add-a-new-virtual-machine-from-the-vms-tab" class="hash-link" aria-label="Step 2: Add a new Virtual Machine from the VMs tabÁöÑÁõ¥Êé•ÈìæÊé•" title="Step 2: Add a new Virtual Machine from the VMs tabÁöÑÁõ¥Êé•ÈìæÊé•">‚Äã</a></h3><ul><li>Login to your Unraid webGui (<code>http://tower</code> or <code>http://tower.local</code>)</li><li>Click on the <strong>VMs</strong> tab (if the tab isn&#x27;t visible, you haven&#x27;t
<a href="http://lime-technology.com/wiki/index.php/UnRAID_Manual_6#System_Preparation" target="_blank" rel="noopener noreferrer">completed these preparation
steps</a>
or may not meet the hardware requirements; post in <a href="https://forums.unraid.net/forum/index.php?board=71.0" target="_blank" rel="noopener noreferrer">general
support</a> for
further assistance)</li><li>Click the <strong>Add VM</strong> button.</li><li>Follow <a href="#creating-your-own-virtual-machines">this
guide</a>
to create your VM, making sure to adhere to these specific settings:<ul><li>Leave the <strong>BIOS</strong> setting to SeaBIOS.</li><li>Leave <strong>OS Install ISO</strong> blank.</li><li>Be sure to have the <strong>VirtIO Drivers ISO</strong> specified, you will
need these in a later step.</li><li>Make the <strong>primary virtual disk</strong> large enough for the physical
disk you are copying.</li><li><em>If converting a disk containing a Windows OS</em><ul><li>Add a <strong>second virtual disk</strong> by clicking the green plus
symbol</li><li>Make the size of this second virtual disk <strong>1M</strong>.</li><li><em>Uncheck</em> the option to <strong>Start VM after creation</strong></li></ul></li></ul></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="step-3-convert-disk-to-image">Step 3: Convert disk to image<a href="#step-3-convert-disk-to-image" class="hash-link" aria-label="Step 3: Convert disk to imageÁöÑÁõ¥Êé•ÈìæÊé•" title="Step 3: Convert disk to imageÁöÑÁõ¥Êé•ÈìæÊé•">‚Äã</a></h3><ul><li>Utilizing a telnet or SSH capable client, connect to your Unraid
system over a Local Area Network. The default username is root and
there is no password by default.</li><li>Enter the following command to begin the conversion of your physical
disk to a virtual image:</li></ul><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">qemu-img convert -p -O raw /dev/sdX /mnt/user/vdisk_share/vmname/vdisk1.img</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Â§çÂà∂‰ª£Á†ÅÂà∞Ââ™Ë¥¥Êùø" title="Â§çÂà∂" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>Replace <strong>sdX</strong> with the device letter handle you noted in step 1,
replace <strong>vdisk_share</strong> with the share you created to store your
virtual disks, and replace <strong>vmname</strong> with the name you gave it when
you created it in step 2.</li><li>The <strong>-p</strong> tag will output progress in the form of a percentage
while the conversion is occurring.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="step-4-edit-the-xml-for-your-virtual-machine-windows-guests-only">Step 4: Edit the XML for your virtual machine (Windows Guests Only)<a href="#step-4-edit-the-xml-for-your-virtual-machine-windows-guests-only" class="hash-link" aria-label="Step 4: Edit the XML for your virtual machine (Windows Guests Only)ÁöÑÁõ¥Êé•ÈìæÊé•" title="Step 4: Edit the XML for your virtual machine (Windows Guests Only)ÁöÑÁõ¥Êé•ÈìæÊé•">‚Äã</a></h3><ul><li>From the VMs tab, click the VM icon and select Edit XML from the
context menu.</li><li>Scroll down the XML and locate the <code>&lt;target&gt;</code> tag for the
<code>&lt;disk&gt;</code> with a <code>&lt;source&gt;</code> file set to vdisk1.img, which will look like such:</li></ul><div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">disk</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">type</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">file</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">device</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">disk</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">driver</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">name</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">qemu</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">type</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">raw</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">cache</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">writeback</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">source</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">file</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">/mnt/cache/vdisk_share/vmname/vdisk1.img</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">backingStore</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">target</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">dev</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">hda</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">bus</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">virtio</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">boot</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">order</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">1</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">alias</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">name</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">virtio-disk0</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">address</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">type</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">pci</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">domain</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">0x0000</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">bus</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">0x00</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">slot</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">0x05</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">function</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">0x0</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">disk</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Â§çÂà∂‰ª£Á†ÅÂà∞Ââ™Ë¥¥Êùø" title="Â§çÂà∂" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>Adjust vdisk1.img by changing the <strong>bus</strong> attribute to the
<code>&lt;target&gt;</code> tag to <strong>ide</strong>.</li><li>Delete the entire <code>&lt;address&gt;</code> line for that <code>&lt;disk&gt;</code>.</li><li>Corrected XML example below:</li></ul><div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">disk</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">type</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">file</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">device</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">disk</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">driver</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">name</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">qemu</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">type</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">raw</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">cache</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">writeback</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">source</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">file</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">/mnt/cache/vdisk_share/vmname/vdisk1.img</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">backingStore</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">target</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">dev</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">hda</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">bus</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">ide</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">boot</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">order</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">1</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">disk</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Â§çÂà∂‰ª£Á†ÅÂà∞Ââ™Ë¥¥Êùø" title="Â§çÂà∂" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>Click <strong>Update</strong> to update the virtual machine XML.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="step-5-install-the-virtio-drivers-from-inside-the-vm-windows-guests-only">Step 5: Install the VirtIO drivers from inside the VM (Windows Guests Only)<a href="#step-5-install-the-virtio-drivers-from-inside-the-vm-windows-guests-only" class="hash-link" aria-label="Step 5: Install the VirtIO drivers from inside the VM (Windows Guests Only)ÁöÑÁõ¥Êé•ÈìæÊé•" title="Step 5: Install the VirtIO drivers from inside the VM (Windows Guests Only)ÁöÑÁõ¥Êé•ÈìæÊé•">‚Äã</a></h3><ul><li>Using <strong>Windows File Explorer</strong>, navigate to the VirtIO virtual
cd-rom to browse its contents.<ul><li>Navigate inside the <strong>Balloon</strong> folder.</li><li>Navigate to the subfolder named after your <strong>Windows OS
version</strong> (e.g. w8.1)</li><li>Navigate to the <strong>amd64</strong> subfolder</li><li>Right-click on the <strong>balloon.inf</strong> file inside and click Install
from the context menu (you may need to enable viewing of file
extensions to do this)</li></ul></li><li>Repeat the above process for each of the following folders:<ul><li><strong>NetKVM</strong></li><li><strong>vioserial</strong></li><li><strong>viostor</strong></li></ul></li><li>When done installing drivers, navigate inside the virtual cd-rom one
more time and open the <strong>guest-agent</strong> folder.</li><li>Double-click on <strong>qemu-ga-x64.msi</strong> to install the QEMU/KVM guest
agent.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="step-6-remove-the-secondary-vdisk-from-your-vm-windows-guests-only">Step 6: Remove the secondary vdisk from your VM (Windows Guests Only)<a href="#step-6-remove-the-secondary-vdisk-from-your-vm-windows-guests-only" class="hash-link" aria-label="Step 6: Remove the secondary vdisk from your VM (Windows Guests Only)ÁöÑÁõ¥Êé•ÈìæÊé•" title="Step 6: Remove the secondary vdisk from your VM (Windows Guests Only)ÁöÑÁõ¥Êé•ÈìæÊé•">‚Äã</a></h3><ul><li><strong>Shutdown</strong> your VM if it isn&#x27;t already.</li><li>From the <strong>VMs</strong> tab, click the VM icon and select <strong>Edit</strong> from the
context menu.</li><li>Remove the vdisk2.img virtual disk by clicking the red minus symbol.</li><li>Click <strong>Update</strong> to update the VM.</li><li>Start your newly converted virtual machine!</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="extra-help-stuck-at-seabios-with-booting-from-hard-disk">Extra: HELP! Stuck at SeaBIOS with &quot;Booting from Hard Disk&quot;<a href="#extra-help-stuck-at-seabios-with-booting-from-hard-disk" class="hash-link" aria-label="Extra: HELP! Stuck at SeaBIOS with &quot;Booting from Hard Disk&quot;ÁöÑÁõ¥Êé•ÈìæÊé•" title="Extra: HELP! Stuck at SeaBIOS with &quot;Booting from Hard Disk&quot;ÁöÑÁõ¥Êé•ÈìæÊé•">‚Äã</a></h3><p>If your OS was installed using UEFI (as opposed to traditional VGA
BIOS), start over from step 3, but select OVMF as the BIOS type instead
of SeaBIOS. Most OS installations install using a traditional VGA BIOS,
but it is possible to have a UEFI installation, in which case SeaBIOS
will not work. The remainder of the conversion procedure is identical.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="using-a-physical-disk-in-a-vm-including-one-with-an-os-already-installed">Using a physical disk in a VM, including one with an OS already installed<a href="#using-a-physical-disk-in-a-vm-including-one-with-an-os-already-installed" class="hash-link" aria-label="Using a physical disk in a VM, including one with an OS already installedÁöÑÁõ¥Êé•ÈìæÊé•" title="Using a physical disk in a VM, including one with an OS already installedÁöÑÁõ¥Êé•ÈìæÊé•">‚Äã</a></h2><p>The steps for creating a VM using a physical disk are similar to that of
using a virtual disk. However, there are two use cases for which one
would be using a physical disk: creating a VM with a physical disk with
no OS installed (new install) and one that already has an OS installed
(conversion). We will only cover converting from a previous installation
as the other should be straightforward enough. You can use a physical
disk with any OS but this conversion guide only covers Windows.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="prerequisites-2">Prerequisites<a href="#prerequisites-2" class="hash-link" aria-label="PrerequisitesÁöÑÁõ¥Êé•ÈìæÊé•" title="PrerequisitesÁöÑÁõ¥Êé•ÈìæÊé•">‚Äã</a></h3><ul><li>A spare USB flash drive</li><li>Acronis Universal Restore (or similar tool):</li></ul><p><a href="http://www.acronis.com/redirector/products/atih2016/aur?build=6569&amp;edition=16&amp;gaID=1987015932.2478000884&amp;language=1&amp;winver=10.0" target="_blank" rel="noopener noreferrer">http://www.acronis.com/redirector/products/atih2016/aur?build=6569&amp;edition=16&amp;gaID=1987015932.2478000884&amp;language=1&amp;winver=10.0</a></p><ul><li>It is also recommended you back up an image of your drive just in
case. I recommend just using dd in the command line. It&#x27;s very easy
to use, just Google it.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="step-1-preparing-the-disk">Step 1: Preparing the disk<a href="#step-1-preparing-the-disk" class="hash-link" aria-label="Step 1: Preparing the diskÁöÑÁõ¥Êé•ÈìæÊé•" title="Step 1: Preparing the diskÁöÑÁõ¥Êé•ÈìæÊé•">‚Äã</a></h3><p>Moving a hard drive with a Windows installation on it from one machine
to another can be problematic and cause blue screens if not prepped
prior. This is because of differences in machine hardware. This applies
whether or not it is a physical or a virtual machine. As such we need to
make changes to the Windows HAL, or hardware abstraction layer. There
are a few tools that can accomplish with, including one built into
Windows itself called &#x27;sysprep&#x27;. However, sysprep is meant more for
cloning a disk image across multiple machines and will activate the
Windows OOBE (out-of-box experience) upon restoration, requiring things
like user account setup and other changes that are undesirable and
unnecessary for our situation. As such we will be using a third-party
tool by Acronis (Universal Restore). This software has a 30-Day free
trial, although there are likely other freeware versions that accomplish
the same thing if you have an issue with that.</p><ul><li>Download and install the following:
<a href="http://www.acronis.com/redirector/products/atih2016/aur?build=6569&amp;edition=16&amp;gaID=1987015932.2478000884&amp;language=1&amp;winver=10.0" target="_blank" rel="noopener noreferrer">http://www.acronis.com/redirector/products/atih2016/aur?build=6569&amp;edition=16&amp;gaID=1987015932.2478000884&amp;language=1&amp;winver=10.0</a></li><li>Insert your USB drive, open the program, and follow the onscreen
instruction to create a bootable flash drive<ul><li>Select &#x27;Windows-like representation&#x27;</li><li>No Linux kernel parameters</li><li>Check 32-bit or 64-bit, depending on your hardware (or both just
to be sure)</li><li>Select your USB device</li></ul></li><li>Once your bootable media has been created reboot your machine and
boot into the USB drive</li><li>Just follow the onscreen instructions to apply a universal restore
to your existing Windows installation on the drive. It should only
take a second or two.</li><li>Shutdown once that is done and boot back into Unraid</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="step-2-identify-the-physical-disk-to-be-used-in-the-unraid-webgui">Step 2: Identify the physical disk to be used in the Unraid webGui<a href="#step-2-identify-the-physical-disk-to-be-used-in-the-unraid-webgui" class="hash-link" aria-label="Step 2: Identify the physical disk to be used in the Unraid webGuiÁöÑÁõ¥Êé•ÈìæÊé•" title="Step 2: Identify the physical disk to be used in the Unraid webGuiÁöÑÁõ¥Êé•ÈìæÊé•">‚Äã</a></h3><ul><li>Login to your Unraid webGui (<code>http://tower</code> or <code>http://tower.local</code>)</li><li>Click the <strong>Main</strong> tab.</li><li>If the array hasn&#x27;t been started yet, start it by clicking
<strong>Start</strong>.</li><li>Locate your disk device from the <strong>Unassigned Devices</strong> section on
the Main tab.</li><li>Under the identification column, notate the disk id by <strong>letter
handle</strong> (e.g. sdb, sdc, sdd, sde, ...)</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="step-3-add-a-new-virtual-machine-from-the-vms-tab">Step 3: Add a new Virtual Machine from the VMs tab<a href="#step-3-add-a-new-virtual-machine-from-the-vms-tab" class="hash-link" aria-label="Step 3: Add a new Virtual Machine from the VMs tabÁöÑÁõ¥Êé•ÈìæÊé•" title="Step 3: Add a new Virtual Machine from the VMs tabÁöÑÁõ¥Êé•ÈìæÊé•">‚Äã</a></h3><ul><li>Login to your Unraid webGui (<code>http://tower</code> or <code>http://tower.local</code>)</li><li>Click on the <strong>VMs</strong> tab (if the tab isn&#x27;t visible, you haven&#x27;t
<a href="http://lime-technology.com/wiki/index.php/UnRAID_Manual_6#System_Preparation" target="_blank" rel="noopener noreferrer">completed these preparation
steps</a>
or may not meet the hardware requirements; post in <a href="https://forums.unraid.net/forum/index.php?board=71.0" target="_blank" rel="noopener noreferrer">general
support</a> for
further assistance)</li><li>Click the <strong>Add VM</strong> button.</li><li>Follow <a href="#creating-your-own-virtual-machines">this
guide</a>
to create your VM, making sure to adhere to these specific settings:<ul><li>Leave the <strong>BIOS</strong> setting to SeaBIOS. (If you have trouble
starting your VM using SeaBIOS recreate it using OVMF)</li><li>Leave <strong>OS Install ISO</strong> blank.</li><li>Be sure to have the <strong>VirtIO Drivers ISO</strong> specified, you will
need these in a later step.</li><li>Select a location and size for the &quot;primary virtual disk&quot;. The
name and size don&#x27;t really matter as we will be changing it in
the next step. This step isn&#x27;t really necessary, but it makes
it a little easier to edit later.</li><li><em>Uncheck</em> the option to <strong>Start VM after creation</strong></li></ul></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="step-4-edit-the-xml-for-your-virtual-machine">Step 4: Edit the XML for your virtual machine<a href="#step-4-edit-the-xml-for-your-virtual-machine" class="hash-link" aria-label="Step 4: Edit the XML for your virtual machineÁöÑÁõ¥Êé•ÈìæÊé•" title="Step 4: Edit the XML for your virtual machineÁöÑÁõ¥Êé•ÈìæÊé•">‚Äã</a></h3><ul><li>From the VMs tab, click the VM icon and select Edit XML from the
context menu.</li><li>Scroll down the XML and locate the the primary virtual disk you
assigned. It will look similar to this:</li></ul><div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">disk</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">type</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">file</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">device</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">disk</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">driver</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">name</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">qemu</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">type</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">raw</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">cache</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">writeback</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">source</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">file</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">/mnt/cache/vdisk_share/vmname/vdisk1.img</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">backingStore</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">target</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">dev</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">hda</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">bus</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">virtio</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">boot</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">order</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">1</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">alias</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">name</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">virtio-disk0</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">address</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">type</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">pci</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">domain</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">0x0000</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">bus</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">0x00</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">slot</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">0x05</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">function</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">0x0</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">disk</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Â§çÂà∂‰ª£Á†ÅÂà∞Ââ™Ë¥¥Êùø" title="Â§çÂà∂" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>Replace it with this, where &quot;sdX&quot; is the location of the disk from
step 2:</li></ul><div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">disk</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">type</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">block</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">device</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">disk</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">driver</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">name</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">qemu</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">type</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">raw</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">cache</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">writeback</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">source</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">dev</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">/dev/sdX</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">target</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">dev</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">hdd</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">bus</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">sata</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">disk</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Â§çÂà∂‰ª£Á†ÅÂà∞Ââ™Ë¥¥Êùø" title="Â§çÂà∂" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>If your physical disk is IDE and not SATA, replace the bus from
&quot;sata&quot; to &quot;ide&quot; and re-evaluate your life choices.</li><li>Click <strong>Update</strong> to update the virtual machine XML.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="step-5-installing-drivers">Step 5: Installing drivers<a href="#step-5-installing-drivers" class="hash-link" aria-label="Step 5: Installing driversÁöÑÁõ¥Êé•ÈìæÊé•" title="Step 5: Installing driversÁöÑÁõ¥Êé•ÈìæÊé•">‚Äã</a></h3><ul><li>Start your VM</li><li>Once in Windows go to the device manager in the control panel</li><li>If there are any drivers that have errors (a yellow exclamation
mark) update them by right-clicking and selecting &#x27;update&#x27;<ul><li>Point to the drive where the VirtIO Drivers ISO is located and
make sure you check the &#x27;include subfolders&#x27; box.</li><li>Do this for any drivers that have errors</li><li>If you have a program that installs software drivers, such as
some anti-virus programs do, you may need to reinstall those
programs</li></ul></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="extra-help-stuck-at-seabios-with-booting-from-hard-disk-1">Extra: HELP! Stuck at SeaBIOS with &quot;Booting from Hard Disk&quot;<a href="#extra-help-stuck-at-seabios-with-booting-from-hard-disk-1" class="hash-link" aria-label="Extra: HELP! Stuck at SeaBIOS with &quot;Booting from Hard Disk&quot;ÁöÑÁõ¥Êé•ÈìæÊé•" title="Extra: HELP! Stuck at SeaBIOS with &quot;Booting from Hard Disk&quot;ÁöÑÁõ¥Êé•ÈìæÊé•">‚Äã</a></h3><p>If your OS was installed using UEFI (as opposed to traditional VGA
BIOS), start over from step 3, but select OVMF as the BIOS type instead
of SeaBIOS. Most OS installations install using a traditional VGA BIOS,
but it is possible to have a UEFI installation, in which case SeaBIOS
will not work. The remainder of the conversion procedure is identical.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="converting-from-xen-to-kvm">Converting from Xen to KVM<a href="#converting-from-xen-to-kvm" class="hash-link" aria-label="Converting from Xen to KVMÁöÑÁõ¥Êé•ÈìæÊé•" title="Converting from Xen to KVMÁöÑÁõ¥Êé•ÈìæÊé•">‚Äã</a></h2><p>Virtual machines that were running in Xen to KVM will require different
procedures depending on whether they were created as paravirtualized or
hardware-virtualized guests. Regardless of your conversion scenario, it
is <strong>highly-recommended</strong> that you create a copy of your existing Xen
virtual disk before proceeding. Use the copy to test your conversion
process and if successful, you can remove your own Xen-based virtual
disk should you so desire. In addition, you should ensure your hardware
has support for hardware-assisted virtualization (Intel VT-x / AMD-V) as
this is a requirement for use with KVM. Xen PV guests do not leverage
hardware-virtualization extensions, which makes their process for
converting slightly more involved than Xen HVM guests to KVM (it is not
documented at the time of this writing).</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="windows-conversion-procedure">Windows Conversion Procedure<a href="#windows-conversion-procedure" class="hash-link" aria-label="Windows Conversion ProcedureÁöÑÁõ¥Êé•ÈìæÊé•" title="Windows Conversion ProcedureÁöÑÁõ¥Êé•ÈìæÊé•">‚Äã</a></h3><p>To convert a Windows virtual machine from Xen to KVM, the process is
fairly simple and takes about 10 minutes to perform. Remove any PCI
device pass through that you are doing via your Xen domain cfg file
before you begin. These devices can be re-added after the conversion
process is complete.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="step-1-determine-if-your-vm-is-using-xens-gplpv-drivers">Step 1: Determine if your VM is using Xen&#x27;s GPLPV drivers<a href="#step-1-determine-if-your-vm-is-using-xens-gplpv-drivers" class="hash-link" aria-label="Step 1: Determine if your VM is using Xen&#x27;s GPLPV driversÁöÑÁõ¥Êé•ÈìæÊé•" title="Step 1: Determine if your VM is using Xen&#x27;s GPLPV driversÁöÑÁõ¥Êé•ÈìæÊé•">‚Äã</a></h4><ol><li>From within your Xen VM, open <strong>Windows Device Manager</strong> (click
<strong>Start</strong> -<!-- -->&gt;<!-- --> right-click on <strong>Computer</strong> -<!-- -->&gt;<!-- --> click <strong>Manage</strong>)</li><li>Expand the node for <strong>Network adapters</strong> and note the name. If the
name of the network device contains &quot;Xen&quot;, then you are using
GPLPV drivers. Anything else means you are not.</li></ol><p>NOTE: IF YOU ARE NOT USING GPLPV DRIVERS, YOU CAN SKIP THE NEXT SEVERAL
STEPS AND RESUME THE PROCEDURE FROM REBOOTING INTO KVM MODE.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="step-2-prepare-windows-for-gplpv-driver-removal">Step 2: Prepare Windows for GPLPV driver removal<a href="#step-2-prepare-windows-for-gplpv-driver-removal" class="hash-link" aria-label="Step 2: Prepare Windows for GPLPV driver removalÁöÑÁõ¥Êé•ÈìæÊé•" title="Step 2: Prepare Windows for GPLPV driver removalÁöÑÁõ¥Êé•ÈìæÊé•">‚Äã</a></h4><ol><li>Open a command prompt, running it as administrator (click <strong>Start</strong>
-<!-- -->&gt;<!-- --> click <strong>All Programs</strong> -<!-- -->&gt;<!-- --> click <strong>Accessories</strong> -<!-- -->&gt;<!-- --> right-click
<strong>Command Prompt</strong> -<!-- -->&gt;<!-- --> click <strong>Run as administrator</strong>)</li><li>Type the following command from the prompt:
<code>bcdedit -set loadoptions nogplpv</code></li><li>Reboot your VM</li></ol><h4 class="anchor anchorWithStickyNavbar_LWe7" id="step-3-download-the-uninstaller-and-remove-the-gplpv-drivers">Step 3: Download the uninstaller and remove the GPLPV drivers<a href="#step-3-download-the-uninstaller-and-remove-the-gplpv-drivers" class="hash-link" aria-label="Step 3: Download the uninstaller and remove the GPLPV driversÁöÑÁõ¥Êé•ÈìæÊé•" title="Step 3: Download the uninstaller and remove the GPLPV driversÁöÑÁõ¥Êé•ÈìæÊé•">‚Äã</a></h4><ol><li>Once rebooted, open a browser and download the following zip file:
<a href="https://drive.google.com/file/d/0BwGv31twDcCeNElTTWFLbXEycWs/view?usp=sharing" target="_blank" rel="noopener noreferrer">gplpv_uninstall_bat.zip</a></li><li>Extract the <code>uninstall_0.10.x.bat</code> file to your desktop</li><li>Right click on the file and click <strong>Run as administrator</strong> (this
will happen very quick)</li><li>Reboot your VM</li><li>After rebooting, open up <strong>Windows Device Manager</strong> again.</li><li>Under the System Devices section, right-click on <strong>Xen PCI Device
Driver</strong> and select <strong>Uninstall</strong>, and the confirmation dialog,
click the checkbox to <strong>Delete the device driver software for this
device</strong>.</li><li>Shut down the VM</li></ol><h4 class="anchor anchorWithStickyNavbar_LWe7" id="step-4-create-a-new-vm-with-the-vm-manager">Step 4: Create a new VM with the VM Manager<a href="#step-4-create-a-new-vm-with-the-vm-manager" class="hash-link" aria-label="Step 4: Create a new VM with the VM ManagerÁöÑÁõ¥Êé•ÈìæÊé•" title="Step 4: Create a new VM with the VM ManagerÁöÑÁõ¥Êé•ÈìæÊé•">‚Äã</a></h4><ol><li>If you haven&#x27;t already, follow the procedure documented <strong>here</strong> to
enable VM Manager</li><li>Click on the <strong>VMs</strong> tab and click <strong>Add VM</strong></li><li>Give the VM a name and if you haven&#x27;t already, download the VirtIO
drivers ISO and specify it</li><li>Under <strong>Operating System</strong> be sure <strong>Windows</strong> is selected</li><li>Under <strong>Primary vDisk Location</strong>, browse and select your Xen virtual
disk</li><li>Add a <strong>2nd vdisk</strong> and give it a size of <strong>1M</strong> (you can put this
vdisk anywhere, it is only temporary)</li><li>Leave graphics, sound, etc. all to defaults and click <strong>Create</strong></li><li>Upon creation, immediately force shutdown the VM (click the eject
symbol from the VMs page)</li><li>Click the \&lt;/<!-- -->&gt;<!-- --> symbol from the VMs page next to the VM to edit the
XML</li><li>Locate the <code>&lt;disk&gt;</code> section for your primary virtual disk.</li><li>Remove the <code>&lt;address&gt;</code> line completely.</li><li>Change the <code>bus=&#x27;virtio&#x27;</code> from the <code>&lt;target&gt;</code> section to
<code>bus=&#x27;ide&#x27;</code></li><li>Click <strong>Update</strong></li></ol><h4 class="anchor anchorWithStickyNavbar_LWe7" id="step-5-starting-your-new-vm-and-loading-the-virtio-drivers">Step 5: Starting your new VM and loading the VirtIO drivers<a href="#step-5-starting-your-new-vm-and-loading-the-virtio-drivers" class="hash-link" aria-label="Step 5: Starting your new VM and loading the VirtIO driversÁöÑÁõ¥Êé•ÈìæÊé•" title="Step 5: Starting your new VM and loading the VirtIO driversÁöÑÁõ¥Êé•ÈìæÊé•">‚Äã</a></h4><ol><li>From the VMs page, click the <strong>VM icon</strong>, then click <strong>Start</strong>.</li><li>Once the VM is started, click the icon again, then click <strong>VNC
Remote</strong>.</li><li>When the VM boots up, it will install several drivers and prompt a
reboot, select <strong>Reboot later</strong></li><li>Open <strong>Windows Device Manager</strong> again and you&#x27;ll notice 3 warnings
under <strong>Other devices</strong> (Ethernet Controller, PCI Device, SCSI
Controller, Serial controller)</li><li>For each device, double click the device, click <strong>Update Driver</strong>,
then select <strong>Browse my computer for driver software</strong><ol><li>Specify a path of the virtio drivers ISO (e.g. <code>d:\</code>) for the
path for each device, and the appropriate drivers will be
automatically loaded.</li><li>Select to <strong>Always trust Red Hat</strong> if prompted.</li></ol></li><li>Open Windows File Explorer and browse to the <strong>guest-agent</strong> folder
on the virtio driver disk and double click the <code>qemu-ga-x64.msi</code>
file to install the QEMU guest agent.</li><li>Shut down your VM.</li></ol><h4 class="anchor anchorWithStickyNavbar_LWe7" id="step-6-remove-the-temporary-vdisk-and-start-the-vm">Step 6: Remove the temporary vdisk and start the VM<a href="#step-6-remove-the-temporary-vdisk-and-start-the-vm" class="hash-link" aria-label="Step 6: Remove the temporary vdisk and start the VMÁöÑÁõ¥Êé•ÈìæÊé•" title="Step 6: Remove the temporary vdisk and start the VMÁöÑÁõ¥Êé•ÈìæÊé•">‚Äã</a></h4><ol><li>Click to edit the VM using the form-based editor (the pencil symbol)</li><li>Remove the secondary vdisk</li><li>Ensure the primary vdisk is pointing to your original vdisk file (it
may be pointing to the secondary vdisk, and if so, update it to
point to your actual vdisk)</li><li>When completed, click <strong>Update</strong></li><li>Start your VM</li><li>Verify your device manager shows no warnings</li><li>DONE!</li></ol></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/unraid/docs/tree/main/docs/unraid-os/manual/vm-management.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>ÁºñËæëÊ≠§È°µ</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Êñá‰ª∂ÈÄâÈ°πÂç°"><a class="pagination-nav__link pagination-nav__link--prev" href="/zh/unraid-os/manual/vm-support"><div class="pagination-nav__sublabel">‰∏ä‰∏ÄÈ°µ</div><div class="pagination-nav__label">VM Support</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/zh/unraid-os/manual/applications"><div class="pagination-nav__sublabel">‰∏ã‰∏ÄÈ°µ</div><div class="pagination-nav__label">Community Applications</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#overview" class="table-of-contents__link toc-highlight">Overview</a></li><li><a href="#prerequisites" class="table-of-contents__link toc-highlight">Prerequisites</a><ul><li><a href="#determining-hvmiommu-hardware-support" class="table-of-contents__link toc-highlight">Determining HVM/IOMMU Hardware Support</a><ul><li><a href="#online-research" class="table-of-contents__link toc-highlight">Online Research</a></li><li><a href="#through-the-unraid-webgui" class="table-of-contents__link toc-highlight">Through the Unraid webGui</a></li></ul></li><li><a href="#assigning-graphics-devices" class="table-of-contents__link toc-highlight">Assigning Graphics Devices</a></li></ul></li><li><a href="#system-preparation" class="table-of-contents__link toc-highlight">System Preparation</a><ul><li><a href="#adjust-bios-settings" class="table-of-contents__link toc-highlight">Adjust BIOS Settings</a></li><li><a href="#configure-a-network-bridge" class="table-of-contents__link toc-highlight">Configure a Network Bridge</a></li><li><a href="#user-shares-for-virtualization" class="table-of-contents__link toc-highlight">User Shares for Virtualization</a><ul><li><a href="#recommendations-for-share-configuration" class="table-of-contents__link toc-highlight">Recommendations for Share Configuration</a></li></ul></li><li><a href="#setup-virtualization-preferences" class="table-of-contents__link toc-highlight">Setup Virtualization Preferences</a></li></ul></li><li><a href="#creating-your-own-virtual-machines" class="table-of-contents__link toc-highlight">Creating Your Own Virtual Machines</a><ul><li><a href="#basic-vm-creation" class="table-of-contents__link toc-highlight">Basic VM Creation</a></li><li><a href="#advanced-options" class="table-of-contents__link toc-highlight">Advanced Options</a></li></ul></li><li><a href="#expanding-a-vdisk" class="table-of-contents__link toc-highlight">Expanding a vdisk</a></li><li><a href="#troubleshooting-stuck-at-uefi-shell" class="table-of-contents__link toc-highlight">Troubleshooting Stuck at UEFI Shell</a></li><li><a href="#assigning-graphics-devices-to-virtual-machines-gpu-pass-through" class="table-of-contents__link toc-highlight">Assigning Graphics Devices to Virtual Machines (GPU Pass Through)</a><ul><li><a href="#warning-passing-through-a-gpu-to-a-seabios-based-vm-will-disable-console-vga-access" class="table-of-contents__link toc-highlight">Warning: Passing through a GPU to a SeaBIOS-based VM will disable console VGA access</a></li><li><a href="#help-failed-to-set-iommu-for-container-operation-not-permitted" class="table-of-contents__link toc-highlight">Help! Failed to set iommu for container: Operation not permitted</a></li><li><a href="#help-i-can-start-my-vm-with-a-gpu-assigned-but-all-i-get-is-a-black-screen-on-my-monitor" class="table-of-contents__link toc-highlight">Help! I can start my VM with a GPU assigned but all I get is a black screen on my monitor!</a><ul><li><a href="#edit-xml-for-vm-to-supply-gpu-rom-manually" class="table-of-contents__link toc-highlight">Edit XML for VM to supply GPU ROM manually</a></li></ul></li></ul></li><li><a href="#physical-to-virtual-machine-conversion" class="table-of-contents__link toc-highlight">Physical to Virtual Machine Conversion</a><ul><li><a href="#prerequisites-1" class="table-of-contents__link toc-highlight">Prerequisites</a></li><li><a href="#step-1-identify-the-disk-to-be-converted-using-the-unraid-webgui" class="table-of-contents__link toc-highlight">Step 1: Identify the disk to be converted using the Unraid webGui</a></li><li><a href="#step-2-add-a-new-virtual-machine-from-the-vms-tab" class="table-of-contents__link toc-highlight">Step 2: Add a new Virtual Machine from the VMs tab</a></li><li><a href="#step-3-convert-disk-to-image" class="table-of-contents__link toc-highlight">Step 3: Convert disk to image</a></li><li><a href="#step-4-edit-the-xml-for-your-virtual-machine-windows-guests-only" class="table-of-contents__link toc-highlight">Step 4: Edit the XML for your virtual machine (Windows Guests Only)</a></li><li><a href="#step-5-install-the-virtio-drivers-from-inside-the-vm-windows-guests-only" class="table-of-contents__link toc-highlight">Step 5: Install the VirtIO drivers from inside the VM (Windows Guests Only)</a></li><li><a href="#step-6-remove-the-secondary-vdisk-from-your-vm-windows-guests-only" class="table-of-contents__link toc-highlight">Step 6: Remove the secondary vdisk from your VM (Windows Guests Only)</a></li><li><a href="#extra-help-stuck-at-seabios-with-booting-from-hard-disk" class="table-of-contents__link toc-highlight">Extra: HELP! Stuck at SeaBIOS with &quot;Booting from Hard Disk&quot;</a></li></ul></li><li><a href="#using-a-physical-disk-in-a-vm-including-one-with-an-os-already-installed" class="table-of-contents__link toc-highlight">Using a physical disk in a VM, including one with an OS already installed</a><ul><li><a href="#prerequisites-2" class="table-of-contents__link toc-highlight">Prerequisites</a></li><li><a href="#step-1-preparing-the-disk" class="table-of-contents__link toc-highlight">Step 1: Preparing the disk</a></li><li><a href="#step-2-identify-the-physical-disk-to-be-used-in-the-unraid-webgui" class="table-of-contents__link toc-highlight">Step 2: Identify the physical disk to be used in the Unraid webGui</a></li><li><a href="#step-3-add-a-new-virtual-machine-from-the-vms-tab" class="table-of-contents__link toc-highlight">Step 3: Add a new Virtual Machine from the VMs tab</a></li><li><a href="#step-4-edit-the-xml-for-your-virtual-machine" class="table-of-contents__link toc-highlight">Step 4: Edit the XML for your virtual machine</a></li><li><a href="#step-5-installing-drivers" class="table-of-contents__link toc-highlight">Step 5: Installing drivers</a></li><li><a href="#extra-help-stuck-at-seabios-with-booting-from-hard-disk-1" class="table-of-contents__link toc-highlight">Extra: HELP! Stuck at SeaBIOS with &quot;Booting from Hard Disk&quot;</a></li></ul></li><li><a href="#converting-from-xen-to-kvm" class="table-of-contents__link toc-highlight">Converting from Xen to KVM</a><ul><li><a href="#windows-conversion-procedure" class="table-of-contents__link toc-highlight">Windows Conversion Procedure</a><ul><li><a href="#step-1-determine-if-your-vm-is-using-xens-gplpv-drivers" class="table-of-contents__link toc-highlight">Step 1: Determine if your VM is using Xen&#39;s GPLPV drivers</a></li><li><a href="#step-2-prepare-windows-for-gplpv-driver-removal" class="table-of-contents__link toc-highlight">Step 2: Prepare Windows for GPLPV driver removal</a></li><li><a href="#step-3-download-the-uninstaller-and-remove-the-gplpv-drivers" class="table-of-contents__link toc-highlight">Step 3: Download the uninstaller and remove the GPLPV drivers</a></li><li><a href="#step-4-create-a-new-vm-with-the-vm-manager" class="table-of-contents__link toc-highlight">Step 4: Create a new VM with the VM Manager</a></li><li><a href="#step-5-starting-your-new-vm-and-loading-the-virtio-drivers" class="table-of-contents__link toc-highlight">Step 5: Starting your new VM and loading the VirtIO drivers</a></li><li><a href="#step-6-remove-the-temporary-vdisk-and-start-the-vm" class="table-of-contents__link toc-highlight">Step 6: Remove the temporary vdisk and start the VM</a></li></ul></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Documentation</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/zh/">Home</a></li><li class="footer__item"><a href="https://github.com/unraid/docs" target="_blank" rel="noopener noreferrer" class="footer__link-item">Contribute on Github<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://forums.unraid.net" target="_blank" rel="noopener noreferrer" class="footer__link-item">Forums<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://discordapp.com/invite/unraid" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://unraid.net" target="_blank" rel="noopener noreferrer" class="footer__link-item">Unraid Home<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://connect.myunraid.net" target="_blank" rel="noopener noreferrer" class="footer__link-item">Unraid Connect<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://newsletter.unraid.net" target="_blank" rel="noopener noreferrer" class="footer__link-item">Newsletter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://unraid.net/blog" target="_blank" rel="noopener noreferrer" class="footer__link-item">Blog<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><img src="/zh/img/un-mark-gradient.svg" alt="Unraid Logo" class="themedImage_ToTc themedImage--light_HNdA footer__logo" width="100"><img src="/zh/img/un-mark-gradient.svg" alt="Unraid Logo" class="themedImage_ToTc themedImage--dark_i4oU footer__logo" width="100"></div><div class="footer__copyright"><small>Copyright &copy; 2005-2023 Lime Technology, Inc.<br>Unraid&reg; is a registered trademark of Lime Technology, Inc.</small></div></div></div></footer></div>
<script src="/zh/assets/js/runtime~main.ecbce4ff.js"></script>
<script src="/zh/assets/js/main.4eae28b4.js"></script>
</body>
</html>